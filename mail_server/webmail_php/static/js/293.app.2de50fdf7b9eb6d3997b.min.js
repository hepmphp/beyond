(self.webpackChunkafterlogic_aurora_platform=self.webpackChunkafterlogic_aurora_platform||[]).push([[293],{vdUg:(e,t,i)=>{"use strict";var s=i("a7T2"),o=i("M4cL"),n=i("p09A"),c=i("KC/L"),h=i("REt5"),l=i("9kOp"),r=i("dfnr"),a=i("oUN1");function u(e,t,i,h,r,a,u,p,y,d,f){this.active=n.observable(!1),this.fSelectCallback=t||function(){},this.fDeleteCallback=i||function(){},this.fDblClickCallback=!l.isMobile()&&h?h:function(){},this.fEnterCallback=r||function(){},this.bResetCheckedOnClick=!!u,this.bCheckOnSelect=!!p,this.bUnselectOnCtrl=!!y,this.bDisableMultiplySelection=!!d,this.bChangeOnSelect=void 0===f||!!f,this.useKeyboardKeys=n.observable(!1),this.list=n.observableArray([]),e&&e.subscribe&&e.subscribe((function(e){this.list(e)}),this),this.multiplyLineFactor=a,this.oLast=null,this.oListScope=null,this.oScrollScope=null,this.iTimer=0,this.iFactor=1,this.KeyUp=Enums.Key.Up,this.KeyDown=Enums.Key.Down,this.KeyLeft=Enums.Key.Up,this.KeyRight=Enums.Key.Down,this.multiplyLineFactor&&(this.multiplyLineFactor.subscribe?this.multiplyLineFactor.subscribe((function(e){this.iFactor=0<e?e:1}),this):this.iFactor=c.pInt(this.multiplyLineFactor),this.KeyUp=Enums.Key.Up,this.KeyDown=Enums.Key.Down,this.KeyLeft=Enums.Key.Left,this.KeyRight=Enums.Key.Right,o("html").hasClass("rtl")&&(this.KeyLeft=Enums.Key.Right,this.KeyRight=Enums.Key.Left)),this.sActionSelector="",this.sSelectableSelector="",this.sCheckboxSelector="";var m=this;this.listChecked=n.computed({read:function(){return s.filter(this.list(),(function(e){var t=e&&e.checked&&e.checked(),i=e&&e.selected&&e.selected();return t||m.bCheckOnSelect&&i}))},write:function(e){e=!!e,s.each(this.list(),(function(t){t.checked(e)})),this.list.valueHasMutated()},owner:this}),this.checkAll=n.computed({read:function(){return 0<this.listChecked().length},write:function(e){this.listChecked(!!e)},owner:this}),this.selectorHook=n.observable(null),this.selectorHook.subscribe((function(){this.active()&&this.selectorHook()&&this.selectorHook().selected(!1)}),this,"beforeChange"),this.selectorHook.subscribe((function(){this.active()&&this.selectorHook()&&this.selectorHook().selected(!0)}),this),this.itemSelected=n.computed({read:this.selectorHook,write:function(e){this.selectorHook(e),e&&(m.scrollToSelected(),this.oLast=e)},owner:this}),this.list.subscribe((function(e){const t=this.itemSelected();Array.isArray(e)&&t&&e.find((e=>"function"==typeof t.isEqual?t.isEqual(e):t===e))||this.itemSelected(null)}),this),this.listCheckedOrSelected=n.computed({read:function(){var e=this.itemSelected(),t=this.listChecked();return 0<t.length?t:e?[e]:[]},write:function(e){e?this.listChecked(!0):(this.itemSelected(null),this.listChecked(!1))},owner:this}),this.listCheckedAndSelected=n.computed({read:function(){var e=[],t=this.itemSelected(),i=this.listChecked();return i&&(e=i.slice(0)),t&&-1===s.indexOf(i,t)&&e.push(t),e},write:function(e){e?this.listChecked(!0):(this.itemSelected(null),this.listChecked(!1))},owner:this}),this.isIncompleteChecked=n.computed((function(){var e=this.list().length,t=this.listChecked().length;return 0<e&&0<t&&e>t}),this),this.onKeydownBound=s.bind(this.onKeydown,this)}u.prototype.iTimer=0,u.prototype.bResetCheckedOnClick=!1,u.prototype.bCheckOnSelect=!1,u.prototype.bUnselectOnCtrl=!1,u.prototype.bDisableMultiplySelection=!1,u.prototype.getLastOrSelected=function(){var e=0,t=null;return s.each(this.list(),(function(i){i&&s.isFunction(i.checked)&&(i.checked()&&e++,i.selected()&&(t=i))})),0===e&&t?t:this.oLast},u.prototype.unbind=function(){this.active(!1),this.itemSelected()&&this.itemSelected().selected(!1),o(document).off("keydown",this.onKeydownBound),o(this.oListScope).off()},u.prototype.initOnApplyBindings=function(e,t,i,s,c){this.active(!0),o(document).on("keydown",this.onKeydownBound),this.oListScope=s,this.oScrollScope=c,this.sActionSelector=e,this.sSelectableSelector=t,this.sCheckboxSelector=i;var h=this,l=function(e,t,i){var s=0,o=0,n=null,c=!1,l=!1,r=[],a=!1;if(t=t||null,i&&i.shiftKey&&null!==t&&null!==e&&t!==e)for(r=h.list(),a=t.checked(),s=0,o=r.length;s<o;s++)c=!1,(n=r[s])!==e&&n!==t||(c=!0),c&&(l=!l),(l||c)&&n&&n.checked&&n.checked(a);t&&(h.oLast=t)};o(this.oListScope).on("dblclick",e,(function(e){var t=n.dataFor(this);!t||!e||e.ctrlKey||e.altKey||e.shiftKey||h.onDblClick(t)})),r.mobileDevice&&o(this.oListScope).on("touchstart",e,(function(e){if(e){var t=e.timeStamp,i=t-(o(this).data("lastTouch")||t),s=e.originalEvent&&e.originalEvent.touches?e.originalEvent.touches.length:0;o(this).data("lastTouch",t),!i||i>250||s>1||(e.preventDefault(),o(this).trigger("dblclick"))}})),o(this.oListScope).on("click",e,(function(e){var t=!0,i=null,s=h.getLastOrSelected(),o=n.dataFor(this);o&&e&&(e.shiftKey?(t=!1,h.bDisableMultiplySelection||(null===h.oLast&&(h.oLast=o),o.checked(!o.checked()),l(s,o,e))):(e.ctrlKey||e.metaKey)&&(t=!1,h.bDisableMultiplySelection||(h.oLast=o,!(i=h.itemSelected())||i.checked()||o.checked()||i.checked(!0),h.bUnselectOnCtrl&&o===h.itemSelected()?(o.checked(!o.selected()),h.itemSelected(null)):o.checked(!o.checked()))),t&&h.selectionFunc(o))})),o(this.oListScope).on("click",i,(function(e){var t=n.dataFor(this);t&&e&&!h.bDisableMultiplySelection&&(e.shiftKey?(null===h.oLast&&(h.oLast=t),l(h.getLastOrSelected(),t,e)):h.oLast=t),e&&e.stopPropagation&&e.stopPropagation()})),o(this.oListScope).on("dblclick",i,(function(e){e&&e.stopPropagation&&e.stopPropagation()}))},u.prototype.getResultSelection=function(e,t){var i=this,n=!1,c=!1,h=null,l=this.iFactor,r=!!this.multiplyLineFactor,a=0,u=0,p=[];if(!e&&-1<o.inArray(t,[this.KeyUp,this.KeyDown,this.KeyLeft,this.KeyRight,Enums.Key.PageUp,Enums.Key.PageDown,Enums.Key.Home,Enums.Key.End]))(p=this.list())&&0<p.length&&(-1<o.inArray(t,[this.KeyDown,this.KeyRight,Enums.Key.PageUp,Enums.Key.Home])?h=p[0]:-1<o.inArray(t,[this.KeyUp,this.KeyLeft,Enums.Key.PageDown,Enums.Key.End])&&(h=p[p.length-1]));else if(e&&0<(u=(p=this.list())?p.length:0))if(Enums.Key.Home===t||Enums.Key.PageUp===t||Enums.Key.End===t||Enums.Key.PageDown===t||r&&(Enums.Key.Left===t||Enums.Key.Right===t)||!r&&(Enums.Key.Up===t||Enums.Key.Down===t))s.each(p,(function(s){if(!n)switch(t){case i.KeyUp:case i.KeyLeft:e===s?n=!0:h=s;break;case Enums.Key.Home:case Enums.Key.PageUp:h=s,n=!0;break;case i.KeyDown:case i.KeyRight:c?(h=s,n=!0):e===s&&(c=!0);break;case Enums.Key.End:case Enums.Key.PageDown:h=s}}));else if(r&&this.KeyDown===t){for(;a<u;a++)if(e===p[a]){u-1<(a+=l)&&(a-=l),h=p[a];break}}else if(r&&this.KeyUp===t)for(a=u;a>=0;a--)if(e===p[a]){0>(a-=l)&&(a+=l),h=p[a];break}return h},u.prototype.shiftClickResult=function(e,t,i){if(t){var n=!!this.multiplyLineFactor,c=!1,h=!1;-1<o.inArray(i,n?[Enums.Key.Left,Enums.Key.Right]:[Enums.Key.Up,Enums.Key.Down])?t.checked(!t.checked()):-1<o.inArray(i,n?[Enums.Key.Up,Enums.Key.Down,Enums.Key.PageUp,Enums.Key.PageDown,Enums.Key.Home,Enums.Key.End]:[Enums.Key.Left,Enums.Key.Right,Enums.Key.PageUp,Enums.Key.PageDown,Enums.Key.Home,Enums.Key.End])&&(h=!t.checked(),s.each(this.list(),(function(i){var s=!1;i!==e&&t!==i||(c=!c,s=!0),(c||s)&&(i.checked(h),s=!1)})),n&&e&&(i===Enums.Key.Up||i===Enums.Key.Down)&&e.checked(!e.checked()))}},u.prototype.clickNewSelectPosition=function(e,t){var i=this.itemSelected(),s=this.getResultSelection(i,e);s&&(t&&this.shiftClickResult(s,i,e),this.selectionFunc(s))},u.prototype.onKeydown=function(e){var t=!0,i=0;return this.useKeyboardKeys()&&e&&!h.isTextFieldFocused()&&!a.hasOpenedMaximizedPopups()&&(i=e.keyCode,e.ctrlKey||this.KeyUp!==i&&this.KeyDown!==i&&this.KeyLeft!==i&&this.KeyRight!==i&&Enums.Key.PageUp!==i&&Enums.Key.PageDown!==i&&Enums.Key.Home!==i&&Enums.Key.End!==i?Enums.Key.Del!==i||e.ctrlKey||e.shiftKey?Enums.Key.Enter===i?0<this.list().length&&!e.ctrlKey&&(this.onEnter(this.itemSelected()),t=!1):!e.ctrlKey||e.altKey||e.shiftKey||Enums.Key.a!==i||(this.checkAll(!(this.checkAll()&&!this.isIncompleteChecked())),t=!1):0<this.list().length&&(this.onDelete(),t=!1):(this.clickNewSelectPosition(i,e.shiftKey),t=!1)),t},u.prototype.onDelete=function(){this.fDeleteCallback.call(this,this.listCheckedOrSelected())},u.prototype.onEnter=function(e){e&&this.fEnterCallback.call(this,e)},u.prototype.selectionFunc=function(e){this.bChangeOnSelect&&this.itemSelected(null),this.bResetCheckedOnClick&&this.listChecked(!1),this.bChangeOnSelect&&this.itemSelected(e),this.fSelectCallback.call(this,e)},u.prototype.onDblClick=function(e){this.fDblClickCallback.call(this,e)},u.prototype.koCheckAll=function(){return n.computed({read:this.checkAll,write:this.checkAll,owner:this})},u.prototype.koCheckAllIncomplete=function(){return n.computed({read:this.isIncompleteChecked,write:this.isIncompleteChecked,owner:this})},u.prototype.scrollToSelected=function(){if(!(this.oListScope&&this.oScrollScope&&this.oScrollScope[0]&&this.oScrollScope[0].isConnected))return!1;var e=o(this.sSelectableSelector,this.oScrollScope),t=e[0]?e[0].offsetTop:void 0,i=this.oScrollScope.height(),s=this.oScrollScope.scrollTop(),n=e.outerHeight();return!(t&&t>=s&&t<=s+i-n||(t<s+i&&t+n>s+i?this.oScrollScope.scrollTop(t+n+20-i):this.oScrollScope.scrollTop(t-20),0))},e.exports=u},injE:(e,t,i)=>{"use strict";var s=i("H20a"),o={getMonthNamesArray:function(){for(var e=s.i18n("COREWEBCLIENT/LIST_MONTH_NAMES").split(" "),t=e.length;t<12;t++)e[t]="";return e},daysInMonth:function(e,t){return 0<e&&13>e&&0<t?new Date(t,e,0).getDate():31}};e.exports=o},C5H3:(e,t,i)=>{var s=i("p09A"),o=i("W66n");function n(e){this.sName="",this.visible=s.observable(!0),this.baseHash=s.observable(""),this.hash=s.observable(""),this.linkText=s.observable(e),this.isCurrent=s.observable(!1),this.recivedAnim=s.observable(!1).extend({autoResetToFalse:500}),this.unseenCount=s.observable(0),this.allowChangeTitle=s.observable(!1),this.inactiveTitle=s.observable(""),this.excludedHashes=s.observableArray([])}n.prototype.ViewTemplate="CoreWebclient_HeaderItemView",n.prototype.setName=function(e){this.sName=e.toLowerCase(),""===this.baseHash()?(this.hash(o.buildHashFromArray([e.toLowerCase()])),this.baseHash(this.hash())):this.hash(this.baseHash())},e.exports=n},yKBN:(e,t,i)=>{"use strict";var s=i("a7T2"),o=i("M4cL"),n=i("p09A"),c=i("REt5"),h=i("9kOp");function l(e,t){this.bShown=!1,this.currentPage=n.observable(1),this.count=n.observable(e),this.perPage=n.observable(t),this.firstPage=n.observable(1),this.lastPage=n.observable(1),this.pagesCount=n.computed((function(){var e=this.perPage()>0?Math.ceil(this.count()/this.perPage()):0;return e>0?e:1}),this),n.computed((function(){var e=20,t=4,i=this.pagesCount(),s=this.currentPage(),o=s,n=s;if(i>1)for(;e--,1<o&&(o--,t--),0!==t&&(i>n&&(n++,t--),0!==t)&&0!==e;);this.firstPage(o),this.lastPage(n)}),this),this.visibleFirst=n.computed((function(){return this.firstPage()>1}),this),this.visibleLast=n.computed((function(){return this.lastPage()<this.pagesCount()}),this),this.clickPage=s.bind(this.clickPage,this),this.pages=n.computed((function(){var e=this.firstPage(),t=[];if(this.firstPage()<this.lastPage())for(;e<=this.lastPage();e++)t.push({number:e,current:e===this.currentPage(),clickFunc:this.clickPage});return t}),this),h.isMobile()||this.hotKeysBind()}l.prototype.ViewTemplate="CoreWebclient_PageSwitcherView",l.prototype.hotKeysBind=function(){o(document).on("keydown",o.proxy((function(e){if(this.bShown&&!c.isTextFieldFocused()){var t=e.keyCode;e.ctrlKey&&t===Enums.Key.Left?this.clickPreviousPage():e.ctrlKey&&t===Enums.Key.Right&&this.clickNextPage()}}),this))},l.prototype.hide=function(){this.bShown=!1},l.prototype.show=function(){this.bShown=!0},l.prototype.clear=function(){this.currentPage(1),this.count(0)},l.prototype.setCount=function(e){this.count(e),this.currentPage()>this.pagesCount()&&this.currentPage(this.pagesCount())},l.prototype.setPage=function(e,t){this.perPage(t),e>this.pagesCount()?this.currentPage(this.pagesCount()):this.currentPage(e)},l.prototype.clickPage=function(e){var t=e.number;t<1&&(t=1),t>this.pagesCount()&&(t=this.pagesCount()),this.currentPage(t)},l.prototype.clickFirstPage=function(){this.currentPage(1)},l.prototype.clickPreviousPage=function(){var e=this.currentPage()-1;e<1&&(e=1),this.currentPage(e)},l.prototype.clickNextPage=function(){var e=this.currentPage()+1;e>this.pagesCount()&&(e=this.pagesCount()),this.currentPage(e)},l.prototype.clickLastPage=function(){this.currentPage(this.pagesCount())},e.exports=l}}]);