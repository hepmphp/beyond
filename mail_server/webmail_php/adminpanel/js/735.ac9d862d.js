"use strict";(globalThis["webpackChunkadmin_panel_vue_webclient"]=globalThis["webpackChunkadmin_panel_vue_webclient"]||[]).push([[735],{9735:(t,o,l)=>{l.r(o),l.d(o,{default:()=>Z});var a=l(9835),e=l(6970),s=l(1957);const n={class:"q-pa-lg"},i={class:"row q-mb-md"},u={class:"col text-h5"},c={class:"row"},r={class:"col-5"},d={class:"row q-mt-sm q-mb-lg"},L={class:"col-10"},A={key:0,class:"row"},h={class:"col-5"},E={class:"row q-mt-md"},_={class:"col-2 q-mt-sm"},w={class:"col-5"},m={class:"q-pt-md text-right"};function p(t,o,l,p,g,I){const y=(0,a.up)("q-checkbox"),N=(0,a.up)("q-item-label"),T=(0,a.up)("q-select"),v=(0,a.up)("q-card-section"),B=(0,a.up)("q-card"),O=(0,a.up)("q-btn"),S=(0,a.up)("q-linear-progress"),M=(0,a.up)("q-inner-loading"),b=(0,a.up)("q-scroll-area"),C=(0,a.Q2)("t");return(0,a.wg)(),(0,a.j4)(b,{class:"full-height full-width"},{default:(0,a.w5)((()=>[(0,a._)("div",n,[(0,a._)("div",i,[(0,a._)("div",u,(0,e.zw)(t.$t("MAILWEBCLIENT.HEADING_SETTINGS_TAB")),1)]),(0,a.Wm)(B,{flat:"",bordered:"",class:"card-edit-settings"},{default:(0,a.w5)((()=>[(0,a.Wm)(v,null,{default:(0,a.w5)((()=>[(0,a._)("div",c,[(0,a._)("div",r,[(0,a.Wm)(y,{dense:"",modelValue:g.autocreateMailAccountOnNewUserFirstLogin,"onUpdate:modelValue":o[0]||(o[0]=t=>g.autocreateMailAccountOnNewUserFirstLogin=t),label:t.$t("MAILWEBCLIENT.LABEL_ALLOW_AUTO_PROVISIONING_NEW_USERS")},null,8,["modelValue","label"])])]),(0,a._)("div",d,[(0,a._)("div",L,[(0,a.Wm)(N,{caption:"",innerHTML:t.$t("MAILWEBCLIENT.LABEL_HINT_ALLOW_AUTO_PROVISIONING_NEW_USERS_HTML")},null,8,["innerHTML"])])]),g.allowMultiAccounts?((0,a.wg)(),(0,a.iD)("div",A,[(0,a._)("div",h,[(0,a.Wm)(y,{dense:"",modelValue:g.allowAddAccounts,"onUpdate:modelValue":o[1]||(o[1]=t=>g.allowAddAccounts=t),label:t.$t("MAILWEBCLIENT.LABEL_ALLOW_USERS_ADD_MAILBOXES")},null,8,["modelValue","label"])])])):(0,a.kq)("",!0),(0,a.wy)((0,a._)("div",E,[(0,a.wy)((0,a._)("div",_,null,512),[[C,"MAILWEBCLIENT.LABEL_DEFAULT_LAYOUT"]]),(0,a._)("div",w,[(0,a.Wm)(T,{outlined:"",dense:"","bg-color":"white",modelValue:g.horizontalLayoutByDefault,"onUpdate:modelValue":o[2]||(o[2]=t=>g.horizontalLayoutByDefault=t),"emit-value":"","map-options":"",options:g.layoutOptions},null,8,["modelValue","options"])])],512),[[s.F8,g.allowHorizontalLayout]])])),_:1})])),_:1}),(0,a._)("div",m,[(0,a.Wm)(O,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",onClick:I.save,label:t.$t("COREWEBCLIENT.ACTION_SAVE")},null,8,["onClick","label"])])]),(0,a.Wm)(M,{style:{"justify-content":"flex-start"},showing:g.saving},{default:(0,a.w5)((()=>[(0,a.Wm)(S,{query:""})])),_:1},8,["showing"])])),_:1})}var g=l(9336),I=l(1427),y=l(2456),N=l(3444);const T={name:"MailAdminSettings",data(){return{autocreateMailAccountOnNewUserFirstLogin:!0,allowMultiAccounts:!1,allowAddAccounts:!1,allowHorizontalLayout:!1,horizontalLayoutByDefault:!1,layoutOptions:[{label:this.$t("MAILWEBCLIENT.LABEL_VERT_SPLIT_LAYOUT"),value:!1},{label:this.$t("MAILWEBCLIENT.LABEL_HORIZ_SPLIT_LAYOUT"),value:!0}],saving:!1}},beforeRouteLeave(t,o,l){this.$root.doBeforeRouteLeave(t,o,l)},mounted(){this.saving=!1,this.populate()},methods:{populate(){const t=N.Z.getEditableByAdmin();this.autocreateMailAccountOnNewUserFirstLogin=t.autocreateMailAccountOnNewUserFirstLogin,this.allowMultiAccounts=t.allowMultiAccounts,this.allowAddAccounts=t.allowAddAccounts,this.allowHorizontalLayout=t.allowHorizontalLayout,this.horizontalLayoutByDefault=t.horizontalLayoutByDefault},hasChanges(){const t=N.Z.getEditableByAdmin();return this.autocreateMailAccountOnNewUserFirstLogin!==t.autocreateMailAccountOnNewUserFirstLogin||this.allowAddAccounts!==t.allowAddAccounts||this.allowHorizontalLayout!==t.allowHorizontalLayout||this.horizontalLayoutByDefault!==t.horizontalLayoutByDefault},revertChanges(){this.populate()},save(){if(!this.saving){this.saving=!0;const t={AutocreateMailAccountOnNewUserFirstLogin:this.autocreateMailAccountOnNewUserFirstLogin,AllowAddAccounts:this.allowAddAccounts,HorizontalLayoutByDefault:this.horizontalLayoutByDefault};y.Z.sendRequest({moduleName:"Mail",methodName:"UpdateSettings",parameters:t}).then((o=>{this.saving=!1,!0===o?(N.Z.saveEditableByAdmin({autocreateMailAccountOnNewUserFirstLogin:t.AutocreateMailAccountOnNewUserFirstLogin,allowAddAccounts:t.AllowAddAccounts,horizontalLayoutByDefault:t.HorizontalLayoutByDefault}),this.populate(),I.Z.showReport(this.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):I.Z.showError(this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(t=>{this.saving=!1,I.Z.showError(g.Z.getTextFromResponse(t,this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}}}};var v=l(1639),B=l(6663),O=l(4458),S=l(3190),M=l(6937),b=l(3115),C=l(8401),U=l(8879),f=l(854),W=l(8289),R=l(9984),q=l.n(R);const D=(0,v.Z)(T,[["render",p]]),Z=D;q()(T,"components",{QScrollArea:B.Z,QCard:O.Z,QCardSection:S.Z,QCheckbox:M.Z,QItemLabel:b.Z,QSelect:C.Z,QBtn:U.Z,QInnerLoading:f.Z,QLinearProgress:W.Z})}}]);