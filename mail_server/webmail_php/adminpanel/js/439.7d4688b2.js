"use strict";(globalThis["webpackChunkadmin_panel_vue_webclient"]=globalThis["webpackChunkadmin_panel_vue_webclient"]||[]).push([[439],{6439:(e,l,a)=>{a.r(l),a.d(l,{default:()=>D});var s=a(9835),t=a(6970);const o={class:"q-pa-lg"},i={class:"row q-mb-md"},n={class:"col text-h5"},d={class:"row q-mb-md"},p={class:"row q-mb-md"},u={class:"col-2 q-my-sm q-pl-sm required-field"},r={class:"col-5"},c={class:"row q-mb-md"},m={class:"col-2 q-my-sm q-pl-sm required-field"},h={class:"col-5"},E={class:"row q-mb-md"},_={class:"col-2 q-my-sm q-pl-sm required-field"},g={class:"col-5"},w={class:"row"},v={key:0,class:"row q-my-md"},I={class:"q-pt-md text-right"};function S(e,l,a,S,b,G){const q=(0,s.up)("q-item-label"),T=(0,s.up)("q-checkbox"),L=(0,s.up)("q-input"),O=(0,s.up)("q-card-section"),y=(0,s.up)("q-card"),R=(0,s.up)("q-btn"),N=(0,s.up)("q-linear-progress"),C=(0,s.up)("q-inner-loading"),A=(0,s.up)("q-scroll-area"),f=(0,s.Q2)("t");return(0,s.wg)(),(0,s.j4)(A,{class:"full-height full-width"},{default:(0,s.w5)((()=>[(0,s._)("div",o,[(0,s._)("div",i,[(0,s.wy)((0,s._)("div",n,null,512),[[f,"GOOGLE.HEADING_SETTINGS"]])]),(0,s.Wm)(y,{flat:"",bordered:"",class:"card-edit-settings"},{default:(0,s.w5)((()=>[(0,s.Wm)(O,null,{default:(0,s.w5)((()=>[(0,s._)("div",d,[(0,s.Wm)(T,{dense:"",modelValue:b.enableGoogle,"onUpdate:modelValue":l[0]||(l[0]=e=>b.enableGoogle=e)},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(q,null,null,512),[[f,"GOOGLE.ENABLE_MODULE"]])])),_:1},8,["modelValue"])]),(0,s._)("div",p,[(0,s.wy)((0,s._)("div",u,null,512),[[f,"OAUTHINTEGRATORWEBCLIENT.LABEL_APP_ID"]]),(0,s._)("div",r,[(0,s.Wm)(L,{outlined:"",dense:"","bg-color":"white",modelValue:b.appId,"onUpdate:modelValue":l[1]||(l[1]=e=>b.appId=e)},null,8,["modelValue"])])]),(0,s._)("div",c,[(0,s.wy)((0,s._)("div",m,null,512),[[f,"OAUTHINTEGRATORWEBCLIENT.LABEL_APP_SECRET"]]),(0,s._)("div",h,[(0,s.Wm)(L,{outlined:"",dense:"","bg-color":"white",modelValue:b.appSecret,"onUpdate:modelValue":l[2]||(l[2]=e=>b.appSecret=e)},null,8,["modelValue"])])]),(0,s._)("div",E,[(0,s.wy)((0,s._)("div",_,null,512),[[f,"GOOGLE.LABEL_API_KEY"]]),(0,s._)("div",g,[(0,s.Wm)(L,{outlined:"",dense:"","bg-color":"white",modelValue:b.apiKey,"onUpdate:modelValue":l[3]||(l[3]=e=>b.apiKey=e)},null,8,["modelValue"])])]),(0,s._)("div",w,[(0,s.Wm)(q,{caption:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("span",null,null,512),[[f,"GOOGLE.INFO_SETTINGS"]])])),_:1})]),0===b.scopes.length?((0,s.wg)(),(0,s.iD)("div",v,[(0,s.Wm)(q,{caption:""},{default:(0,s.w5)((()=>[(0,s.wy)((0,s._)("span",null,null,512),[[f,"GOOGLE.INFO_NO_SCOPES_AVAILABLE"]])])),_:1})])):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(b.scopes,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"row q-my-md",key:e.name},[(0,s.Wm)(T,{dense:"",modelValue:e.value,"onUpdate:modelValue":l=>e.value=l},{default:(0,s.w5)((()=>[(0,s.Wm)(q,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,t.zw)(e.label),1)])),_:2},1024)])),_:2},1032,["modelValue","onUpdate:modelValue"])])))),128))])),_:1})])),_:1}),(0,s._)("div",I,[(0,s.Wm)(R,{unelevated:"","no-caps":"",dense:"",class:"q-px-sm",ripple:!1,color:"primary",onClick:G.saveGoogleSettings,label:e.$t("COREWEBCLIENT.ACTION_SAVE")},null,8,["onClick","label"])])]),(0,s.Wm)(C,{style:{"justify-content":"flex-start"},showing:b.saving},{default:(0,s.w5)((()=>[(0,s.Wm)(N,{query:""})])),_:1},8,["showing"])])),_:1})}var b=a(9336),G=a(1427),q=a(2456),T=a(2343);const L={name:"GoogleAdminSettings",data(){return{enableGoogle:!1,appId:"",appSecret:"",apiKey:"",scopes:[],saving:!1}},mounted(){this.populate()},beforeRouteLeave(e,l,a){this.$root.doBeforeRouteLeave(e,l,a)},methods:{hasChanges(){const e=T.Z.getGoogleSettings(),l=this.scopes.some((l=>{const a=e.scopes.find((e=>e.Name===l.name));return a.Value!==l.value}));return this.enableGoogle!==e.enableModule||this.appId!==e.id||this.apiKey!==e.key||l||this.appSecret!==e.secret},revertChanges(){this.populate()},populate(){const e=T.Z.getGoogleSettings();this.enableGoogle=e.enableModule,this.appId=e.id,this.appSecret=e.secret,this.apiKey=e.key,this.scopes=e.scopes.map((e=>({name:e.Name,value:e.Value,label:e.Description})))},saveGoogleSettings(){this.appId&&this.apiKey&&this.appSecret||!this.enableGoogle?this.save():G.Z.showError(this.$t("COREWEBCLIENT.ERROR_REQUIRED_FIELDS_EMPTY"))},save(){if(!this.saving){this.saving=!0;const e={EnableModule:this.enableGoogle,Id:this.appId,Secret:this.appSecret,Key:this.apiKey,Scopes:this.scopes.map((e=>({Name:e.name,Value:e.value,Description:e.label})))};q.Z.sendRequest({moduleName:"Google",methodName:"UpdateSettings",parameters:e}).then((l=>{this.saving=!1,!0===l?(T.Z.saveGoogleSettings(e),this.populate(),G.Z.showReport(this.$t("COREWEBCLIENT.REPORT_SETTINGS_UPDATE_SUCCESS"))):G.Z.showError(this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED"))}),(e=>{this.saving=!1,G.Z.showError(b.Z.getTextFromResponse(e,this.$t("COREWEBCLIENT.ERROR_SAVING_SETTINGS_FAILED")))}))}}}};var O=a(1639),y=a(6663),R=a(4458),N=a(3190),C=a(6937),A=a(3115),f=a(6611),V=a(8879),W=a(854),Z=a(8289),k=a(9984),B=a.n(k);const U=(0,O.Z)(L,[["render",S]]),D=U;B()(L,"components",{QScrollArea:y.Z,QCard:R.Z,QCardSection:N.Z,QCheckbox:C.Z,QItemLabel:A.Z,QInput:f.Z,QBtn:V.Z,QInnerLoading:W.Z,QLinearProgress:Z.Z})}}]);