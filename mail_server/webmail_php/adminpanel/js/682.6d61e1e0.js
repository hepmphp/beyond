"use strict";(globalThis["webpackChunkadmin_panel_vue_webclient"]=globalThis["webpackChunkadmin_panel_vue_webclient"]||[]).push([[682],{6396:(e,t,s)=>{s.r(t),s.d(t,{default:()=>le});var r=s(9835),l=s(6970);const i={class:"flex column full-height"},a={class:"flex"},o={key:1};function n(e,t,s,n,d,u){const h=(0,r.up)("trash-icon"),c=(0,r.up)("q-tooltip"),p=(0,r.up)("q-btn"),g=(0,r.up)("add-icon"),m=(0,r.up)("add-to-group-icon"),I=(0,r.up)("q-item-label"),U=(0,r.up)("q-item-section"),C=(0,r.up)("q-item"),E=(0,r.up)("q-list"),_=(0,r.up)("q-btn-dropdown"),w=(0,r.up)("remove-from-group-icon"),T=(0,r.up)("q-toolbar"),f=(0,r.up)("StandardList"),N=(0,r.up)("q-separator"),b=(0,r.up)("q-linear-progress"),L=(0,r.up)("q-inner-loading"),k=(0,r.up)("router-view"),R=(0,r.up)("q-splitter"),A=(0,r.up)("ConfirmDialog"),D=(0,r.up)("main-layout"),S=(0,r.Q2)("close-popup"),W=(0,r.Q2)("t");return(0,r.wg)(),(0,r.j4)(D,null,{default:(0,r.w5)((()=>[(0,r.Wm)(R,{"after-class":u.showTabs?"":"q-splitter__right-panel",class:"full-height full-width",modelValue:d.listSplitterWidth,"onUpdate:modelValue":t[2]||(t[2]=e=>d.listSplitterWidth=e),limits:[10,30]},{before:(0,r.w5)((()=>[(0,r._)("div",i,[(0,r.Wm)(T,{class:"col-auto q-py-sm list-border"},{default:(0,r.w5)((()=>[(0,r._)("div",a,[(0,r.Wm)(p,{flat:"",color:"grey-8",size:"mg","no-wrap":"",disable:0===d.checkedIds.length,onClick:u.askDeleteCheckedUsers},{default:(0,r.w5)((()=>[(0,r.Wm)(h),(0,r._)("span",null,(0,l.zw)(u.countLabel),1),(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(e.$t("COREWEBCLIENT.ACTION_DELETE")),1)])),_:1})])),_:1},8,["disable","onClick"]),d.allowCreateUser?((0,r.wg)(),(0,r.j4)(p,{key:0,flat:"",color:"grey-8",size:"mg",onClick:u.routeCreateUser},{default:(0,r.w5)((()=>[(0,r.Wm)(g),(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(e.$t("ADMINPANELWEBCLIENT.ACTION_CREATE_ENTITY_USER")),1)])),_:1})])),_:1},8,["onClick"])):(0,r.kq)("",!0),u.allTenantGroups.length>0&&u.isUserSuperAdmin?((0,r.wg)(),(0,r.iD)("span",o,[(0,r.Wm)(_,{flat:"",color:"grey-8",size:"mg",disable:0===u.checkedOrSelectedUsersIds.length||0===u.groups.length},{label:(0,r.w5)((()=>[(0,r.Wm)(m),(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(e.$t("ADMINPANELWEBCLIENT.ACTION_ADD_USER_TO_GROUP")),1)])),_:1})])),default:(0,r.w5)((()=>[(0,r.Wm)(E,null,{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.groups,(e=>(0,r.wy)(((0,r.wg)(),(0,r.j4)(C,{clickable:"",key:e.id,onClick:t=>u.addUsersToGroup(e.id)},{default:(0,r.w5)((()=>[(0,r.Wm)(U,null,{default:(0,r.w5)((()=>[(0,r.Wm)(I,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])),[[S]]))),128))])),_:1})])),_:1},8,["disable"]),(0,r.Wm)(p,{flat:"",color:"grey-8",size:"mg",onClick:u.removeFromGroup,disable:u.disableRemoveFromGroup},{default:(0,r.w5)((()=>[(0,r.Wm)(w),(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(e.$t("ADMINPANELWEBCLIENT.ACTION_REMOVE_USER_FROM_GROUP")),1)])),_:1})])),_:1},8,["onClick","disable"])])):(0,r.kq)("",!0),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.filters,(e=>((0,r.wg)(),(0,r.j4)((0,r.LL)(e),{key:e.name,onFilterSelected:u.routeFilter,onFilterFilledUp:u.populateFiltersGetParameters,onAllowCreateUser:u.handleAllowCreateUser},null,40,["onFilterSelected","onFilterFilledUp","onAllowCreateUser"])))),128))])])),_:1}),(0,r.Wm)(f,{class:"col-grow list-border",items:d.userItems,selectedItem:d.selectedUserId,loading:d.loadingUsers,search:d.search,page:d.page,pagesCount:u.pagesCount,noItemsText:"ADMINPANELWEBCLIENT.INFO_NO_ENTITIES_USER",noItemsFoundText:"ADMINPANELWEBCLIENT.INFO_NO_ENTITIES_FOUND_USER",ref:"userList",onRoute:u.route,onCheck:u.afterCheck},null,8,["items","selectedItem","loading","search","page","pagesCount","noItemsText","noItemsFoundText","onRoute","onCheck"])])])),after:(0,r.w5)((()=>[u.showTabs?((0,r.wg)(),(0,r.j4)(R,{key:0,"after-class":"q-splitter__right-panel",class:"full-height full-width",modelValue:d.tabsSplitterWidth,"onUpdate:modelValue":t[1]||(t[1]=e=>d.tabsSplitterWidth=e),limits:[10,30]},{before:(0,r.w5)((()=>[(0,r.Wm)(E,null,{default:(0,r.w5)((()=>[(0,r._)("div",null,[(0,r.Wm)(C,{clickable:"",onClick:t[0]||(t[0]=e=>u.route(d.selectedUserId)),class:(0,l.C_)(""===d.selectedTab?"bg-selected-item":"")},{default:(0,r.w5)((()=>[(0,r.Wm)(U,null,{default:(0,r.w5)((()=>[(0,r.wy)((0,r.Wm)(I,{lines:"1"},null,512),[[W,"ADMINPANELWEBCLIENT.LABEL_COMMON_SETTINGS_TAB"]])])),_:1})])),_:1},8,["class"]),(0,r.Wm)(N)]),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.tabs,(t=>((0,r.wg)(),(0,r.iD)("div",{key:t.tabName},[-1===t.hideTabForSelectedUserRoles.indexOf(u.selectedUserRole)?((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r.Wm)(C,{clickable:"",onClick:e=>u.route(d.selectedUserId,t.tabName),class:(0,l.C_)(d.selectedTab===t.tabName?"bg-selected-item":"")},{default:(0,r.w5)((()=>[(0,r.Wm)(U,null,{default:(0,r.w5)((()=>[(0,r.Wm)(I,{lines:"1"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,l.zw)(e.$t(t.tabTitle)),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick","class"]),(0,r.Wm)(N)],64)):(0,r.kq)("",!0)])))),128)),(0,r.Wm)(L,{style:{"justify-content":"flex-start"},showing:u.deleting},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{query:""})])),_:1},8,["showing"])])),_:1})])),after:(0,r.w5)((()=>[(0,r.Wm)(k,{onNoUserFound:u.handleNoUserFound,onUserCreated:u.handleCreateUser,onUserUpdated:u.handleUpdateUser,onCancelCreate:u.route,onDeleteUser:u.askDeleteUser,deletingIds:d.deletingIds,createMode:u.createMode},null,8,["onNoUserFound","onUserCreated","onUserUpdated","onCancelCreate","onDeleteUser","deletingIds","createMode"])])),_:1},8,["modelValue"])):(0,r.kq)("",!0),u.showTabs?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(k,{key:1,onNoUserFound:u.handleNoUserFound,onUserCreated:u.handleCreateUser,onUserUpdated:u.handleUpdateUser,onCancelCreate:u.route,onDeleteUser:u.askDeleteUser,deletingIds:d.deletingIds,createMode:u.createMode},null,8,["onNoUserFound","onUserCreated","onUserUpdated","onCancelCreate","onDeleteUser","deletingIds","createMode"]))])),default:(0,r.w5)((()=>[(0,r.Wm)(A,{ref:"confirmDialog"},null,512)])),_:1},8,["after-class","modelValue"])])),_:1})}s(9665);var d=s(4409),u=s.n(d),h=s(9336),c=s(1427),p=s(4089),g=s(2456),m=s(9706),I=s(7214),U=s(1088),C=s(4168),E=s(3517),_=s(1797),w=s(7466);const T={xmlns:"http://www.w3.org/2000/svg",version:"1.1",viewBox:"0 0 32 32",height:"32",width:"32"},f=(0,r._)("path",{d:"M 23.490234,4.3671875 C 23.145826,4.3725766 22.870687,4.655577 22.875,5 v 8.941406 l -3.382812,-3.382812 c -0.117451,-0.120866 -0.278733,-0.189182 -0.447266,-0.189453 -0.559896,10e-4 -0.836127,0.681088 -0.435547,1.072265 l 4.472656,4.47461 c 0.244193,0.244632 0.640573,0.244632 0.884766,0 l 4.474609,-4.47461 C 29.092665,10.853679 28.146321,9.9073348 27.558594,10.558594 L 24.125,13.992188 V 5 C 24.129408,4.6479298 23.842289,4.3616939 23.490234,4.3671875 Z M 8.4375,7.875 C 7.0987689,7.875 5.875,8.8549776 5.875,10.263672 V 16 c -2.091e-4,0.03005 0.00175,0.06008 0.00586,0.08984 l -0.00781,8.419922 c -1e-6,6.51e-4 -1e-6,0.0013 0,0.002 -5.382e-4,0.01497 -5.382e-4,0.02995 0,0.04492 v 0.002 0.123047 c -0.0011,0.09228 0.018239,0.18366 0.056641,0.267578 C 6.1070849,25.620696 6.7188837,26.125 7.4414062,26.125 H 8 20 c 0.04189,9.42e-4 0.08377,-0.0023 0.125,-0.0098 1.151538,-0.05057 2.047983,-0.777348 2.556641,-1.794922 0.01459,-0.02321 0.02764,-0.04735 0.03906,-0.07227 0.0055,-0.01091 0.01074,-0.02199 0.01563,-0.0332 l 0.0098,-0.02344 c 1e-6,-6.51e-4 1e-6,-0.0013 0,-0.002 l 2.251953,-5.554687 c 0.178188,-0.419544 -0.138133,-0.882579 -0.59375,-0.869141 -0.251126,0.0073 -0.473472,0.164258 -0.564453,0.398437 l -2.25586,5.558594 C 21.195456,24.534351 20.772063,24.875 20,24.875 H 8.9921875 l 3.4492185,-9.75 H 16 c 0.845202,0.01195 0.845202,-1.261953 0,-1.25 h -3.900391 c -0.02714,-0.0044 -0.05454,-0.007 -0.08203,-0.0078 -0.148207,-0.0036 -0.292886,0.0455 -0.408203,0.138671 -0.121284,0.09356 -0.203992,0.228393 -0.232422,0.378907 l -3.6171884,10.22655 c -0.00422,0.01096 -0.00812,0.02203 -0.011719,0.0332 C 7.7095712,24.776018 7.5916698,24.875 7.4414062,24.875 7.2578983,24.875 7.1230469,24.740976 7.1230469,24.556641 L 7.1308594,15.625 c 4.01e-4,-0.03135 -0.00156,-0.06269 -0.00586,-0.09375 V 10.263672 C 7.125,9.530342 7.6382071,9.125 8.4375,9.125 h 3.125 c 0.413535,0 0.761749,0.1240195 0.982422,0.2988281 0.220673,0.1748086 0.330078,0.3744622 0.330078,0.6718749 0,0.806179 0.374452,1.389317 0.767578,1.675781 0.393126,0.286465 0.814453,0.330079 0.814453,0.330078 0.829475,0.08469 0.956428,-1.159445 0.126953,-1.24414 0,0 -0.0877,-0.01018 -0.205078,-0.0957 C 14.261532,10.676187 14.125,10.569525 14.125,10.095703 14.125,9.4251032 13.80089,8.8260066 13.320312,8.4453125 12.839737,8.0646184 12.219965,7.875 11.5625,7.875 Z"},null,-1),N=[f];function b(e,t,s,l,i,a){return(0,r.wg)(),(0,r.iD)("svg",T,N)}const L={name:"AddToGroup"};var k=s(1639);const R=(0,k.Z)(L,[["render",b]]),A=R,D={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",version:"1.1"},S=(0,r._)("path",{d:"m 19.783203,5.2441406 c -0.559896,0.00104 -0.836129,0.6810885 -0.435547,1.0722656 l 3.226563,3.2265626 -3.226563,3.2265622 c -0.651229,0.587729 0.295084,1.534042 0.882813,0.882813 l 3.226562,-3.226563 3.226563,3.226563 c 0.587728,0.651243 1.534055,-0.295086 0.882812,-0.882813 L 24.339844,9.5429688 27.566406,6.3164062 c 0.407085,-0.3971266 0.115381,-1.0874107 -0.453125,-1.0722656 -0.162409,0.0049 -0.316526,0.072855 -0.429687,0.1894532 L 23.457031,8.6601562 20.230469,5.4335938 C 20.113018,5.3127279 19.951736,5.244412 19.783203,5.2441406 Z M 8.4375,7.875 C 7.0987775,7.875 5.875,8.8549723 5.875,10.263672 V 16 c -2.091e-4,0.03005 0.00175,0.06008 0.00586,0.08984 l -0.00781,8.419922 c -1e-6,6.51e-4 -1e-6,0.0013 0,0.002 -5.382e-4,0.01497 -5.382e-4,0.02995 0,0.04492 v 0.002 0.123047 c -9.157e-4,0.08871 0.017061,0.17659 0.052734,0.257812 C 6.0995919,25.616051 6.7152324,26.125 7.4414062,26.125 H 8 20 c 0.04189,9.42e-4 0.08377,-0.0023 0.125,-0.0098 1.151538,-0.05057 2.047992,-0.777352 2.556641,-1.794922 0.01459,-0.02321 0.02764,-0.04735 0.03906,-0.07227 0.0055,-0.01091 0.01074,-0.02199 0.01563,-0.0332 l 0.0098,-0.02344 c 1e-6,-6.51e-4 1e-6,-0.0013 0,-0.002 l 2.251953,-5.554687 c 0.178188,-0.419544 -0.138133,-0.882579 -0.59375,-0.869141 -0.251126,0.0073 -0.473472,0.164258 -0.564453,0.398437 l -2.25586,5.558594 C 21.195471,24.53433 20.772063,24.875 20,24.875 H 8.9921875 l 3.4492185,-9.75 H 16 c 0.845196,0.01195 0.845196,-1.261947 0,-1.25 h -3.900391 c -0.02714,-0.0044 -0.05454,-0.007 -0.08203,-0.0078 -0.148207,-0.0036 -0.292886,0.0455 -0.408203,0.138671 -0.121284,0.09356 -0.203992,0.228393 -0.232422,0.378907 L 7.7597656,24.611328 c -0.00422,0.01096 -0.00812,0.02203 -0.011719,0.0332 C 7.7095712,24.776018 7.59167,24.875 7.4414062,24.875 7.2578878,24.875 7.1230469,24.740997 7.1230469,24.556641 L 7.1308594,15.625 c 4.01e-4,-0.03135 -0.00156,-0.06269 -0.00586,-0.09375 V 10.263672 C 7.125,9.5303453 7.6382225,9.125 8.4375,9.125 h 3.125 c 0.413535,0 0.761749,0.1240193 0.982422,0.2988281 0.220673,0.1748089 0.330078,0.3744622 0.330078,0.6718749 0,0.806178 0.374452,1.389316 0.767578,1.675781 0.393126,0.286465 0.814453,0.330078 0.814453,0.330078 0.829475,0.08469 0.956428,-1.159445 0.126953,-1.24414 0,0 -0.0877,-0.01017 -0.205078,-0.0957 C 14.261532,10.676187 14.125,10.569525 14.125,10.095703 14.125,9.4251032 13.80089,8.8260069 13.320312,8.4453125 12.839737,8.0646181 12.219965,7.875 11.5625,7.875 Z"},null,-1),W=[S];function F(e,t,s,l,i,a){return(0,r.wg)(),(0,r.iD)("svg",D,W)}const Z={name:"RemoveFromGroup"},$=(0,k.Z)(Z,[["render",F]]),P=$;var v=s(4465),M=s(1385);let O={};const G={name:"Domains",components:{MainLayout:C.Z,ConfirmDialog:E.Z,StandardList:_.Z,AddIcon:w.Z,AddToGroupIcon:A,RemoveFromGroupIcon:P,TrashIcon:v.Z},data(){return{users:[],selectedUserId:0,loadingUsers:!1,totalCount:0,search:"",page:1,limit:U.Z.getEntitiesPerPage(),userItems:[],checkedIds:[],allowCreateUser:!0,justCreatedId:0,deletingIds:[],selectedGroupId:-1,tabs:[],selectedTab:"",listSplitterWidth:p.Z.pInt(localStorage.getItem("aurora_admin_users_splitter-width"),20),tabsSplitterWidth:p.Z.pInt(localStorage.getItem("aurora_admin_users_tabs_splitter-width"),20),filters:[],currentFiltersRoutes:{},filtersGetParameters:{}}},computed:{currentTenantId(){return this.$store.getters["tenants/getCurrentTenantId"]},pagesCount(){return Math.ceil(this.totalCount/this.limit)},countLabel(){const e=this.checkedIds.length;return e>0?e:""},showTabs(){return this.tabs.length>0&&this.selectedUserId>0},deleting(){return-1!==this.deletingIds.indexOf(this.selectedUserId)},createMode(){const e=this.$route.path.indexOf("/create");return-1!==e&&e===this.$route.path.length-7},allTenantGroups(){const e=this.$store.getters["groups/getGroups"],t=p.Z.pArray(e[this.currentTenantId]);return t.filter((e=>!e.isTeam))},groups(){const e=this.selectedGroupId;return this.allTenantGroups.filter((t=>t.id!==e))},checkedOrSelectedUsersIds(){return this.checkedIds.length>0?this.checkedIds:0!==this.selectedUserId?[this.selectedUserId]:[]},disableRemoveFromGroup(){const e=this.allTenantGroups.find((e=>e.id===this.selectedGroupId));return!e||this.checkedOrSelectedUsersIds.length<=0},selectedUserRole(){const e=this.users.find((e=>e.id===this.selectedUserId)),t=e&&e.role;return t||O.NormalUser},isUserSuperAdmin(){return this.$store.getters["user/isUserSuperAdmin"]},userRole(){return this.$store.getters["user/getUserRole"]}},watch:{currentTenantId(){"/users"!==this.$route.path&&this.route(),this.populate()},$route(e,t){this.parseRoute()},users(){const e=this.$store.getters["user/getUserPublicId"],t=M.Z.getUserRoles();this.userItems=this.users.map((s=>{const r=[];return s.disabled&&r.push({title:this.$t("ADMINPANELWEBCLIENT.LABEL_DISABLED"),cssClass:"disabled"}),s.publicId===e&&r.push({title:this.$t("ADMINPANELWEBCLIENT.LABEL_ITS_ME"),cssClass:"me"}),s.role===t.TenantAdmin&&r.push({title:this.$t("ADMINPANELWEBCLIENT.LABEL_ITS_ADMIN"),cssClass:"admin"}),{id:s.id,title:s.publicId,checked:!1,labels:r}}))},allowCreateUser(){!this.allowCreateUser&&this.createMode&&this.$router.push("/users")},listSplitterWidth(e){localStorage.setItem("aurora_admin_users_splitter-width",e)},tabsSplitterWidth(e){localStorage.setItem("aurora_admin_users_tabs_splitter-width",e)}},mounted(){O=M.Z.getUserRoles(),this.populateFilters(),this.populateTabs(),this.populate(),this.parseRoute()},methods:{parseRoute(){if(this.createMode)this.selectedUserId=0;else{const e=p.Z.pString(this.$route?.params?.search),t=p.Z.pPositiveInt(this.$route?.params?.page);this.search===e&&this.page===t&&0===this.justCreatedId||(this.search=e,this.page=t,this.populate());const s=p.Z.pNonNegativeInt(this.$route?.params?.id);this.selectedUserId!==s&&(this.selectedUserId=s),this.selectedGroupId=p.Z.pInt(this.$route?.params?.group);const r=this.$route.path.split("/"),l=r.length>0?r[r.length-1]:"",i=this.tabs.find((e=>e.tabName===l));this.selectedTab=i?i.tabName:""}},handleAllowCreateUser(e){e.tenantId===this.currentTenantId&&(this.allowCreateUser=e.allowCreateUser)},populateFilters(){this.filters=I.Z.getFiltersForUsers()},populateTabs(){this.tabs=I.Z.getAdminEntityTabs("getAdminUserTabs").map((e=>({tabName:e.tabName,tabTitle:e.tabTitle,hideTabForSelectedUserRoles:void 0!==e.hideTabForSelectedUserRoles?e.hideTabForSelectedUserRoles:[]})))},populateFiltersGetParameters(e){const t=u().extend(u().clone(this.filtersGetParameters),e);u().isEqual(t,this.filtersGetParameters)||(this.filtersGetParameters=t,this.populate())},populate(){this.loadingUsers=!0,m.Z.getUsers(this.currentTenantId,this.filtersGetParameters,this.search,this.page,this.limit).then((({users:e,totalCount:t,tenantId:s,filtersGetParameters:r={},page:l=1,search:i=""})=>{s===this.currentTenantId&&u().isEqual(r,this.filtersGetParameters)&&l===this.page&&i===this.search&&(this.users=e,this.totalCount=t,this.loadingUsers=!1,this.justCreatedId&&e.find((e=>e.id===this.justCreatedId))&&(this.route(this.justCreatedId),this.justCreatedId=0))}))},getFiltersRoute(){const e=u().map(this.currentFiltersRoutes,((e,t)=>void 0!==e?t+"/"+e:"")),t=u().filter(e,(e=>""!==e));return t.length>0?"/"+t.join("/"):""},routeFilter(e){this.currentFiltersRoutes[e.routeName]!==e.routeValue&&(this.currentFiltersRoutes[e.routeName]=e.routeValue,this.route())},route(e=0,t=""){const s=this.$refs?.userList?.enteredSearch||"",r=""!==s?`/search/${s}`:"";let l=this.$refs?.userList?.selectedPage||1;this.search!==s&&(l=1);const i=l>1?`/page/${l}`:"",a=e>0?`/id/${e}`:"",o=""!==t?`/${t}`:"",n="/users"+this.getFiltersRoute()+r+i+a+o;n!==this.$route.path&&this.$router.push(n)},routeCreateUser(){this.$router.push("/users"+this.getFiltersRoute()+"/create")},handleCreateUser(e){this.justCreatedId=e,this.route(),this.populate()},handleUpdateUser(e){this.populate()},afterCheck(e){this.checkedIds=e},handleNoUserFound(){c.Z.showError(this.$t("ADMINPANELWEBCLIENT.ERROR_USER_NOT_FOUND")),this.route(),this.populate()},askDeleteUser(e){this.askDeleteUsers([e])},askDeleteCheckedUsers(){this.askDeleteUsers(this.checkedIds)},askDeleteUsers(e){if(u().isFunction(this?.$refs?.confirmDialog?.openDialog)){const t=1===e.length?this.users.find((t=>t.id===e[0])):null,s=t?t.publicId:"";this.$refs.confirmDialog.openDialog({title:s,message:this.$tc("ADMINPANELWEBCLIENT.CONFIRM_DELETE_USER_PLURAL",e.length),okHandler:this.deleteUsers.bind(this,e)})}},deleteUsers(e){this.deletingIds=e,this.loadingUsers=!0,g.Z.sendRequest({moduleName:"Core",methodName:"DeleteUsers",parameters:{IdList:e}}).then((t=>{if(this.deletingIds=[],this.loadingUsers=!1,!0===t){c.Z.showReport(this.$tc("ADMINPANELWEBCLIENT.REPORT_DELETE_ENTITIES_USER_PLURAL",e.length));const t=-1!==e.indexOf(this.selectedUserId),s=this.$refs?.userList?.selectedPage||1,r=this.users.length===e.length&&s>1;r&&u().isFunction(this.$refs?.userList?.decreasePage)?this.$refs.userList.decreasePage():t?(this.route(),this.populate()):this.populate()}else c.Z.showError(this.$tc("ADMINPANELWEBCLIENT.ERROR_DELETE_ENTITIES_USER_PLURAL",e.length))}),(t=>{this.deletingIds=[],this.loadingUsers=!1,c.Z.showError(h.Z.getTextFromResponse(t,this.$tc("ADMINPANELWEBCLIENT.ERROR_DELETE_ENTITIES_USER_PLURAL",e.length)))}))},addUsersToGroup(e){this.checkedOrSelectedUsersIds.length>0&&this.$store.dispatch("groups/addUsersToGroup",{tenantId:this.currentTenantId,groupId:e,usersIds:this.checkedOrSelectedUsersIds})},async removeFromGroup(){this.checkedOrSelectedUsersIds.length>0&&await this.$store.dispatch("groups/removeUsersFromGroup",{tenantId:this.currentTenantId,groupId:this.selectedGroupId,usersIds:this.checkedOrSelectedUsersIds,callback:this.populate.bind(this)})}}};var B=s(7498),q=s(1663),y=s(8879),x=s(6858),j=s(8479),Q=s(3246),V=s(490),z=s(1233),H=s(3115),Y=s(2218),K=s(854),J=s(8289),X=s(6362),ee=s(2146),te=s(9984),se=s.n(te);const re=(0,k.Z)(G,[["render",n]]),le=re;se()(G,"components",{QSplitter:B.Z,QToolbar:q.Z,QBtn:y.Z,QTooltip:x.Z,QBtnDropdown:j.Z,QList:Q.Z,QItem:V.Z,QItemSection:z.Z,QItemLabel:H.Z,QSeparator:Y.Z,QInnerLoading:K.Z,QLinearProgress:J.Z,QMenu:X.Z}),se()(G,"directives",{ClosePopup:ee.Z})}}]);